(function(n,t,i,r){n(function(){function o(){[].forEach.call(document.querySelectorAll(".scRibbonToolbarSmallGalleryButton, .scRibbonToolbarLargeComboButtonBottom"),function(n){n.addEventListener("click",function(){clearTimeout(f)})});[].forEach.call(document.querySelectorAll(".scRibbonNavigatorButtonsGroupButtons > a"),function(n){n.addEventListener("click",function(){i.updateRibbon()})})}function s(){n("body").focus();n(u).focus();"WebForm_AutoFocus"in this&&WebForm_AutoFocus&&WebForm_AutoFocus("Terminal")}var e=n("#Editor"),u=r.edit("Terminal"),f,h,c;u.setTheme("ace/theme/monokai");u.session.setMode("ace/mode/csharp");u.session.setValue(e.val());u.session.on("change",function(){e.val(u.session.getValue())});u.setOptions({fontSize:"13pt"});i.resizeEditor=function(){u.resize()};i.updateRibbon=function(){u.getReadOnly()||(scForm.postRequest("","","","tconsole:scriptchanged(modified="+!u.session.getUndoManager().isClean()+")"),o())};f=null;i.updateRibbonNeeded=function(){var n;clearTimeout(f);n=2e3;document.querySelector(".scGalleryFrame")!=null&&(n=20);f=setTimeout(i.updateRibbon,n)};n(t).on("resize",function(){i.resizeEditor()}).trigger("resize");i.appendOutput=function(t){var i=n("<div/>").html(t).text();n("#ScriptResult").append(i)};t.parent.focus();t.focus();t.addEventListener("focus",function(){s()},!1);setTimeout(s,1e3);h=n("#PosX");c=n("#PosY");n("#Terminal").on("keyup mousedown",function(){var n=u.getCursorPosition();h.text(n.column);c.text(n.row+1);i.updateRibbonNeeded()}).trigger("keyup");o()})})(jQuery,window,window.console=window.console||{},window.ace=window.ace||{});